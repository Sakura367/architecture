### 服务降级
在高并发的情况下，防止用户一直等待，使用服务降级方式进行处理(返回友好的提示给客户端，fallback回调方法)。当服务不可用的时候(正在等待的时候、网络延迟、响应时间过长),客户端会处于一直等待的状态。显然一直等待是不合理的，所以我们应该给客户端返回一个友好的提示，使用fallback(回调方法)进行服务降级处理。

目的：为了提高用户体验(自定义消息返回给客户端)，防止服务雪崩效应。比如：连接超时、网络延迟、服务器响应时间过长等情况。

#### 服务雪崩
因为默认情况下，只有一个线程池处理所有的服务接口，所有的请求都会被一个线程池处理。如果大量的请求访问同一个接口，当达到tomcat默认极限(可以自己设置)，可能会导致其他服务接口无法访问。

我们常把“基础服务故障”导致的“级联故障”的现象称为雪崩效应。雪崩效应描述的是提供者不可用导致消费者不可用，并将不可用逐渐扩大的过程。

A做为服务提供者(基础服务)，B为A的消费者，C和D为是B的消费者。当A不可用引起了B不可用，并将不可用像滚雪球一样放大到C和D，雪崩效应就这样形成。 

### 服务熔断
依赖的下游服务故障触发熔断，避免引发本系统崩溃，需要拒绝访问，保护当前服务。然后调用降级方法，返回友好提示。**熔断和服务降级一起使用**。

目的：为了防止服务宕机(保护服务)，会进行熔断处理。

### 服务限流
针对于某一个服务实现次数限制，一旦达到阈值之后，这时候可以直接走服务降级(返回一个友好提示给客户端)。

### 服务隔离
每个服务接口之间互不影响，服务隔离有2种实现方式，线程池方式、信号量。
- 线程池方式：相当于每个接口(服务)都有自己独立的线程池，不同的线程池之间互不影响，能够实现服务接口隔离。缺点：CPU内存开销较大。
- 信号量方式：底层使用原子计数器(atomic)，针对于每个服务都设置自己的独立的限制阈值。比如设置每个服务接口最多同时访问的次数，如果超出缓存队列请求后，自己实现拒绝策略。

